{% extends "base.html" %}
{% load static %}
{% block content %}

<style>
    table {
        text-align:center;
    }
    tr td {
        text-align: center;
        height:100px;
        line-height:100px;
    }
    input[type=number]:hover::-webkit-inner-spin-button {
        width: 14px;
        height:35px;
    }
</style>
<div class="container">
    <h2>장바구니</h2>
    <p></p>
    <table class="table table-hover">
        <thead>
        <tr>
            <th>선택</th>
            <th style="width: 150px;">이미지</th>
            <th>상품명</th>
            <th>가격</th>
            <th>수량</th>
            <th>합계</th>
        </tr>
        </thead>
        <tbody>
        {% for item in items %}
        <tr data-itemId="{{ item.id }}" data-userId="{{ item.user_id }}" data-amount="{{ item.sub_total }}">
            <td><input type="checkbox" name="chk" ></td>
            <td><img style="width:150px; height:100px;" src="{{ item.product.image.url }}"></td>
            <td class="name">{{ item.product.name }}</td>
            <td class="price">{{ item.product.price }}</td>
            <td><input type="number" class="quantity" min="1" max="{{ item.product.stock }}" value="{{ item.quantity }}" style="width: 100px; height: 35px; line-height: 35px;"></td>
            <td class="sub_amount" style="width: 150px;">{{ item.sub_total }}<input type="hidden" class="sub_amount_val" value="{{ item.sub_total }}"></td>
            <input type="hidden" class="proId" value="{{ item.product.id }}">
            <input type="hidden" class="stock" value="{{ item.product.stock }}">
            <input type="hidden" class="ordId" value="{{ item.id }}">
        </tr>
        {% endfor %}
        <tr>
            <td colspan="6"><h3 class="amount" style="text-align:right; margin-top: 20px; margin-right: 160px;">총 합계금액 : {{ items.get_cart_total }}</h3></td>
        </tr>
        </tbody>
    </table>
</div>
<div>
    <div style="width: 250px; margin: 20px auto;">
        <button type="button" class="btn btn-dark" onClick="delRow();">선택상품삭제</button>
        <button type="button" class="btn btn-dark" onClick="delAllRow()">장바구니비우기</button>
    </div>
</div>
<table style="width: 700px; border: 1px solid black; margin: 30px auto;">
    <tr>
        <td style="border: 1px solid black;">
    <input type="text" class="form-control" id="sample4_postcode" placeholder="우편번호">
        </td>
        <td style="border: 1px solid black;">
    <input type="button" class="btn btn-primary btn-lg btn-block" onclick="sample4_execDaumPostcode()" value="우편번호 찾기"><br>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid black;">
    <input type="text" class="form-control" id="sample4_roadAddress" placeholder="도로명주소">
        </td>
        <td style="border: 1px solid black;">
    <input type="text" class="form-control" id="sample4_jibunAddress" placeholder="지번주소">
        </td>
    </tr>
    <span id="guide" style="color:#999;display:none"></span>
    <tr>
        <td colspan="2" style="border: 1px solid black;">
    <input type="text" class="form-control" id="sample4_detailAddress" placeholder="상세주소">
        </td>
    </tr>
    <tr>
        <td colspan="2" style="border: 1px solid black;">
    <input type="text" class="form-control" id="sample4_extraAddress" placeholder="참고항목">
        </td>
    </tr>
</table>
<div>
    <div style="width: 150px; margin: 20px auto;">
        <button type="button" class="btn btn-danger" onClick="pay();" style="width: 150px;">결제하기</button>
    </div>
</div>
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script type="text/javascript">
var update_cart = "{% url 'cart:update_cart' %}"
var del_cart = "{% url 'cart:delete_cart' %}"
var del_all_cart = "{% url 'cart:delete_all_cart' %}"
</script>
<script type="text/javascript" src="{% static 'js/cart_detail.js' %}"></script>
{% endblock %}

