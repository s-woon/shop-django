{% extends "base.html" %}
{% load static %}
{% block content %}
<style>
    table {
        text-align:center;
    }
    tr td {
        text-align: center;
        height:100px;
        line-height:100px;
    }
</style>
<div class="container">
    <h2>장바구니</h2>
    <p></p>
    <table class="table table-hover">
        <thead>
        <tr>
            <th>선택</th>
            <th style="width: 150px;">이미지</th>
            <th>상품명</th>
            <th>가격</th>
            <th>수량</th>
            <th>합계</th>
        </tr>
        </thead>
        <tbody>
        {% for item in items %}
        <tr>
            <td><input type="checkbox" name="chk"></td>
            <td><img style="width:150px; height:100px;" src="{{ item.product.image.url }}"></td>
            <td>{{ item.product.name }}</td>
            <td>{{ item.product.price }}</td>
            <td>{{ item.quantity }}</td>
            <td>합계</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<div style="width: 400px; float: right; margin-right: 200px;">
    <button type="button" class="btn btn-dark" onClick="delRow();">선택상품삭제</button>
    <button type="button" class="btn btn-dark">장바구니비우기</button>
</div>
<script>
    function delRow(){
        var $obj = $("input[name='chk']");
        var checkCount = $obj.size();
        for (var i=0; i<checkCount; i++){
            if($obj.eq(i).is(":checked")){
                $obj.eq(i).parent().parent().remove();
            }
        }

    }
</script>
{% endblock %}